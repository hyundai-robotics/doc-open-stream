## 1.2 사용 전 유의 사항

Open Stream은 실시간 제어 및 상태 수신을 효율적으로 처리하기 위한 인터페이스이지만,  
다음과 같은 제약 및 전제를 반드시 고려해야 합니다.

- Open Stream은 정주기 데이터 전달을 목표로 하지만 보장하지는 않습니다.
- 운영체제 스케줄링, 네트워크 상태 및 클라이언트 처리 부하에 따라 주기 지연(jitter) 이 발생할 수 있습니다.
- Open API를 활용하므로, ${cont_model} 제어기의 API 서비스 처리 시간이 길어질 경우 Open Stream 의 전체 수행 시간이 증가할 수 있습니다.
- PLC 또는 Playback 작업이 동시에 수행되는 경우, 작업 우선순위에 따라 Open Stream 처리가 지연될 수 있습니다.
- 하나의 TCP 연결에서는 하나의 MONITOR 세션만 활성화할 수 있습니다.
- 모든 명령은 정의된 프로토콜 순서를 따라야 하며,  
  순서 위반 시 서버는 명령을 거부하거나 연결을 종료할 수 있습니다.

<br><br>

<b> MONITOR 및 CONTROL 운용 시 참고 성능 (시험 결과) </b>

아래 결과는 동일한 시험 환경에서 MONITOR 단독 수행과  
CONTROL과 MONITOR를 동시에 수행한 경우의 주기 특성을 비교한 참고 자료입니다.


시험 환경 
- 서버 : ${cont_model} COM
- 클라이언트 : Windows 11 기반 Python 클라이언트
- 네트워크 : TCP 연결
- 송/수신 주기 : MONITOR 명령으로 설정 가능한 최대 주기로 설정

<br>

시험 결과 요약

<div style="max-width:fit-content;">

1. MONITOR 단독 수행

    | **시험 조건**                                                              | **주기 특성 요약**                                                                                                    |
    | ---------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
    | - MONITOR 주기: 2 ms (500 Hz)<br>- CONTROL 미사용<br>- 연속 실행: 10시간          | - <u><b>평균 수신 주기: 약 2.0 ms</b></u><br>                                           |

2. CONTROL + MONITOR 동시 수행

    | **시험 조건**                                                              | **주기 특성 요약**                                                                                                    |
    | ---------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
    | - CONTROL 주기: 2 ms<br>- MONITOR 주기: 2 ms<br>- CONTROL / MONITOR 동시 활성화 | - CONTROL(SEND): <u><b>평균 주기 약 2.0 ms</b></u>, 최대 지연 약 30~40 ms<br>- MONITOR(RECV): <b><u>평균 주기 약 2.1~2.2 ms</b></u>, 최대 지연 수십 ms~100 ms 이상 |

</div>

<br><br>

<b> 해석 및 운용 시 유의 사항 </b>

- MONITOR 레시피를 단독으로 운용하는 경우, 장시간 연속 실행에서도 비교적 안정적인 주기 수신이 가능합니다.  

- CONTROL과 MONITOR를 동시에 운용할 경우, 시스템 설계에 따라 CONTROL 세션이 더 높은 우선순위로 처리됩니다.  

- 이로 인해 CONTROL 주기 안정성은 유지되지만,  
MONITOR 수신 주기는 평균 증가 및 간헐적인 지연이 발생할 수 있습니다.  

- CONTROL과 MONITOR를 동시에 사용하는 환경에서는  
MONITOR 데이터의 정주기성 저하 및 지연 발생을 전제로 시스템을 설계해야 합니다.  